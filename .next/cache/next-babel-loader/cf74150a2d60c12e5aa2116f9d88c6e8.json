{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState } from 'react';\nimport baseUrl from '../helpers/baseUrl';\nimport cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\n\nconst Login = () => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const router = useRouter();\n\n  const userLogin = async e => {\n    e.preventDefault();\n    const res = await fetch(`${baseUrl}/api/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const res2 = await res.json();\n\n    if (res2.error) {\n      M.toast({\n        html: res2.error,\n        classes: \"red\"\n      });\n    } else {\n      console.log(res2);\n      cookie.set('token', res2.token);\n      cookie.set('user', res2.user);\n      router.push('/account');\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"container card authcard center-align\"\n  }, __jsx(\"h3\", null, \"LOGIN\"), __jsx(\"form\", {\n    onSubmit: e => userLogin(e)\n  }, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value)\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value)\n  }), __jsx(\"button\", {\n    className: \"btn waves-effect waves-light #1565c0 blue darken-3\",\n    type: \"submit\"\n  }, \"login\", __jsx(\"i\", {\n    className: \"material-icons right\"\n  }, \"forward\")), __jsx(Link, {\n    href: \"/signup\"\n  }, __jsx(\"a\", null, __jsx(\"h5\", null, \"Dont have a account ?\")))));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}