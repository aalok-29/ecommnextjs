{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{\"HaE+\":function(e,t,r){\"use strict\";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,\"next\",e)}function u(e){n(a,i,o,s,u,\"throw\",e)}s(void 0)}))}}r.d(t,\"a\",(function(){return i}))},NyWP:function(e,t,r){\"use strict\";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var i=r(\"iVi/\"),o=r(\"U0US\"),a=function(){return\"undefined\"!==typeof window};function s(e,t){var r=e.sameSite===t.sameSite;return\"string\"===typeof e.sameSite&&\"string\"===typeof t.sameSite&&(r=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),function(e,t){var r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return!1}return!0}(n(n({},e),{sameSite:void 0}),n(n({},t),{sameSite:void 0}))&&r}function u(e,t){return e&&e.req&&e.req.headers&&e.req.headers.cookie?i.parse(e.req.headers.cookie,t):a()?i.parse(document.cookie,t):{}}function c(e,t,r,u){if(e&&e.res&&e.res.getHeader&&e.res.setHeader){var c=e.res.getHeader(\"Set-Cookie\")||[];\"string\"===typeof c&&(c=[c]),\"number\"===typeof c&&(c=[]);var l=o.parse(c),f=[];l.forEach((function(e){s(e,function(e,t,r){var i=r.sameSite;!0===i&&(i=\"strict\"),void 0!==i&&!1!==i||(i=\"lax\");var o=n(n({},r),{sameSite:i});return delete o.encode,n({name:e,value:t},o)}(t,r,u))||f.push(i.serialize(e.name,e.value,n({},e)))})),f.push(i.serialize(t,r,u)),e.res.finished||e.res.setHeader(\"Set-Cookie\",f)}if(a()){if(u&&u.httpOnly)throw new Error(\"Can not set a httpOnly cookie in the browser.\");document.cookie=i.serialize(t,r,u)}return{}}function l(e,t,r){var o=n(n({},r||{}),{maxAge:-1});if(e&&e.res&&e.res.setHeader&&e.res.getHeader){var s=e.res.getHeader(\"Set-Cookie\")||[];\"string\"===typeof s&&(s=[s]),\"number\"===typeof s&&(s=[]),s.push(i.serialize(t,\"\",o)),e.res.setHeader(\"Set-Cookie\",s)}return a()&&(document.cookie=i.serialize(t,\"\",o)),{}}t.parseCookies=u,t.setCookie=c,t.destroyCookie=l,t.default={set:c,get:u,destroy:l}},U0US:function(e,t,r){\"use strict\";var n={decodeValues:!0,map:!1,silent:!1};function i(e){return\"string\"===typeof e&&!!e.trim()}function o(e,t){var r=e.split(\";\").filter(i),o=r.shift().split(\"=\"),a=o.shift(),s=o.join(\"=\"),u={name:a,value:(t=t?Object.assign({},n,t):n).decodeValues?decodeURIComponent(s):s};return r.forEach((function(e){var t=e.split(\"=\"),r=t.shift().trimLeft().toLowerCase(),n=t.join(\"=\");\"expires\"===r?u.expires=new Date(n):\"max-age\"===r?u.maxAge=parseInt(n,10):\"secure\"===r?u.secure=!0:\"httponly\"===r?u.httpOnly=!0:\"samesite\"===r?u.sameSite=n:u[r]=n})),u}function a(e,t){if(t=t?Object.assign({},n,t):n,!e)return t.map?{}:[];if(e.headers&&e.headers[\"set-cookie\"])e=e.headers[\"set-cookie\"];else if(e.headers){var r=e.headers[Object.keys(e.headers).find((function(e){return\"set-cookie\"===e.toLowerCase()}))];r||!e.headers.cookie||t.silent||console.warn(\"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"),e=r}if(Array.isArray(e)||(e=[e]),(t=t?Object.assign({},n,t):n).map){return e.filter(i).reduce((function(e,r){var n=o(r,t);return e[n.name]=n,e}),{})}return e.filter(i).map((function(e){return o(e,t)}))}e.exports=a,e.exports.parse=a,e.exports.parseString=o,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if(\"string\"!==typeof e)return[];var t,r,n,i,o,a=[],s=0;function u(){for(;s<e.length&&/\\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;u();)if(\",\"===(r=e.charAt(s))){for(n=s,s+=1,u(),i=s;s<e.length&&\"=\"!==(r=e.charAt(s))&&\";\"!==r&&\",\"!==r;)s+=1;s<e.length&&\"=\"===e.charAt(s)?(o=!0,s=i,a.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}},cdae:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__N_SSP\",(function(){return d}));var n=r(\"q1tI\"),i=r.n(n),o=r(\"NyWP\"),a=r(\"o0o1\"),s=r.n(a),u=r(\"HaE+\"),c=r(\"orTI\"),l=i.a.createElement;var f=function(){var e=Object(n.useState)([]),t=e[0],r=e[1],a=Object(o.parseCookies)().token;Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c.a,\"/api/users\"),{headers:{Authorization:a}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),r(n);case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(s.a.mark((function e(n,i){var o,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c.a,\"/api/users\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:a},body:JSON.stringify({_id:n,role:i})});case 2:return o=e.sent,e.next=5,o.json();case 5:u=e.sent,console.log(u),l=t.map((function(e){return e.role!=u.role&&e.email==u.email?u:e})),r(l);case 9:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return l(i.a.Fragment,null,l(\"h1\",null,\"User roles\"),l(\"table\",null,l(\"thead\",null,l(\"tr\",null,l(\"th\",null,\"Name\"),l(\"th\",null,\"Email\"),l(\"th\",null,\"Role\"))),l(\"tbody\",null,t.map((function(e){return l(\"tr\",null,l(\"td\",null,e.name),l(\"td\",null,e.email),l(\"td\",{onClick:function(){return p(e._id,e.role)}},e.role))})))))},p=i.a.createElement,d=!0;t.default=function(e){var t=e.orders,r=Object(n.useRef)(null),i=Object(o.parseCookies)(),a=i.user?JSON.parse(i.user):\"\";Object(n.useEffect)((function(){M.Collapsible.init(r.current)}),[]);return p(\"div\",{className:\"container\"},p(\"div\",{className:\"center-align white-text\",style:{marginTop:\"10px\",backgroundColor:\"#1565c0\",padding:\"3px\"}},p(\"h4\",null,a.name),p(\"h4\",null,a.email)),p(\"h3\",null,\"Order History\"),0==t.length?p(\"div\",{className:\"container\"},p(\"h5\",null,\"Your have no order History\")):p((function(){return p(\"ul\",{className:\"collapsible\",ref:r},t.map((function(e){return p(\"li\",{key:e._id},p(\"div\",{className:\"collapsible-header\"},p(\"i\",{className:\"material-icons\"},\"folder\"),e.createdAt),p(\"div\",{className:\"collapsible-body\"},p(\"h5\",null,\"Total  \\u20b9 \",e.total),e.products.map((function(e){return p(\"h6\",{key:e._id},e.product.name,\" X \",e.quantity)}))))})))}),null),\"root\"==a.role&&p(f,null))}},\"iVi/\":function(e,t,r){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var r={},i=t||{},a=e.split(o),u=i.decode||n,c=0;c<a.length;c++){var l=a[c],f=l.indexOf(\"=\");if(!(f<0)){var p=l.substr(0,f).trim(),d=l.substr(++f,l.length).trim();'\"'==d[0]&&(d=d.slice(1,-1)),void 0==r[p]&&(r[p]=s(d,u))}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||i;if(\"function\"!==typeof o)throw new TypeError(\"option encode is invalid\");if(!a.test(e))throw new TypeError(\"argument name is invalid\");var s=o(t);if(s&&!a.test(s))throw new TypeError(\"argument val is invalid\");var u=e+\"=\"+s;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError(\"option maxAge is invalid\");u+=\"; Max-Age=\"+Math.floor(c)}if(n.domain){if(!a.test(n.domain))throw new TypeError(\"option domain is invalid\");u+=\"; Domain=\"+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError(\"option path is invalid\");u+=\"; Path=\"+n.path}if(n.expires){if(\"function\"!==typeof n.expires.toUTCString)throw new TypeError(\"option expires is invalid\");u+=\"; Expires=\"+n.expires.toUTCString()}n.httpOnly&&(u+=\"; HttpOnly\");n.secure&&(u+=\"; Secure\");if(n.sameSite){switch(\"string\"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:u+=\"; SameSite=Strict\";break;case\"lax\":u+=\"; SameSite=Lax\";break;case\"strict\":u+=\"; SameSite=Strict\";break;case\"none\":u+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return u};var n=decodeURIComponent,i=encodeURIComponent,o=/; */,a=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function s(e,t){try{return t(e)}catch(r){return e}}},nGCP:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account\",function(){return r(\"cdae\")}])},orTI:function(e,t,r){\"use strict\";t.a=\"https://mystore202144.vercel.app\"}},[[\"nGCP\",0,2,1]]]);","extractedComments":[]}